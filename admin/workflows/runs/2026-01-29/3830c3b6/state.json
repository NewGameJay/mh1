{
  "current_step": 5,
  "outputs": {
    "discovery": {
      "total_contacts": 15,
      "by_stage": {
        "sql": 3,
        "subscriber": 4,
        "lead": 3,
        "mql": 4,
        "opportunity": 1
      },
      "contacts": {
        "sql": [
          {
            "id": "contact_0",
            "email": "user0@example.com",
            "firstname": "User",
            "lastname": "0",
            "company": "Enterprise Inc",
            "lifecyclestage": "sql"
          },
          {
            "id": "contact_5",
            "email": "user5@example.com",
            "firstname": "User",
            "lastname": "5",
            "company": "Acme Corp",
            "lifecyclestage": "sql"
          },
          {
            "id": "contact_11",
            "email": "user11@example.com",
            "firstname": "User",
            "lastname": "11",
            "company": "BigBrand",
            "lifecyclestage": "sql"
          }
        ],
        "subscriber": [
          {
            "id": "contact_1",
            "email": "user1@example.com",
            "firstname": "User",
            "lastname": "1",
            "company": "TechCo",
            "lifecyclestage": "subscriber"
          },
          {
            "id": "contact_2",
            "email": "user2@example.com",
            "firstname": "User",
            "lastname": "2",
            "company": "TechCo",
            "lifecyclestage": "subscriber"
          },
          {
            "id": "contact_3",
            "email": "user3@example.com",
            "firstname": "User",
            "lastname": "3",
            "company": "Enterprise Inc",
            "lifecyclestage": "subscriber"
          },
          {
            "id": "contact_7",
            "email": "user7@example.com",
            "firstname": "User",
            "lastname": "7",
            "company": "TechCo",
            "lifecyclestage": "subscriber"
          }
        ],
        "lead": [
          {
            "id": "contact_4",
            "email": "user4@example.com",
            "firstname": "User",
            "lastname": "4",
            "company": "Acme Corp",
            "lifecyclestage": "lead"
          },
          {
            "id": "contact_12",
            "email": "user12@example.com",
            "firstname": "User",
            "lastname": "12",
            "company": "StartupX",
            "lifecyclestage": "lead"
          },
          {
            "id": "contact_13",
            "email": "user13@example.com",
            "firstname": "User",
            "lastname": "13",
            "company": "TechCo",
            "lifecyclestage": "lead"
          }
        ],
        "mql": [
          {
            "id": "contact_6",
            "email": "user6@example.com",
            "firstname": "User",
            "lastname": "6",
            "company": "Acme Corp",
            "lifecyclestage": "mql"
          },
          {
            "id": "contact_8",
            "email": "user8@example.com",
            "firstname": "User",
            "lastname": "8",
            "company": "Enterprise Inc",
            "lifecyclestage": "mql"
          },
          {
            "id": "contact_9",
            "email": "user9@example.com",
            "firstname": "User",
            "lastname": "9",
            "company": "StartupX",
            "lifecyclestage": "mql"
          },
          {
            "id": "contact_14",
            "email": "user14@example.com",
            "firstname": "User",
            "lastname": "14",
            "company": "Enterprise Inc",
            "lifecyclestage": "mql"
          }
        ],
        "opportunity": [
          {
            "id": "contact_10",
            "email": "user10@example.com",
            "firstname": "User",
            "lastname": "10",
            "company": "Acme Corp",
            "lifecyclestage": "opportunity"
          }
        ]
      },
      "data_validation": {
        "valid": true,
        "record_count": 15,
        "field_coverage": {
          "email": 1.0,
          "company": 1.0,
          "lifecyclestage": 1.0
        },
        "issues": [],
        "warnings": [
          "Below recommended: 15 < 100 recommended"
        ]
      },
      "source": "hubspot"
    },
    "enrichment": {
      "sql": [
        {
          "id": "contact_0",
          "email": "user0@example.com",
          "firstname": "User",
          "lastname": "0",
          "company": "Enterprise Inc",
          "lifecyclestage": "sql"
        },
        {
          "id": "contact_5",
          "email": "user5@example.com",
          "firstname": "User",
          "lastname": "5",
          "company": "Acme Corp",
          "lifecyclestage": "sql"
        },
        {
          "id": "contact_11",
          "email": "user11@example.com",
          "firstname": "User",
          "lastname": "11",
          "company": "BigBrand",
          "lifecyclestage": "sql"
        }
      ],
      "subscriber": [
        {
          "id": "contact_1",
          "email": "user1@example.com",
          "firstname": "User",
          "lastname": "1",
          "company": "TechCo",
          "lifecyclestage": "subscriber"
        },
        {
          "id": "contact_2",
          "email": "user2@example.com",
          "firstname": "User",
          "lastname": "2",
          "company": "TechCo",
          "lifecyclestage": "subscriber"
        },
        {
          "id": "contact_3",
          "email": "user3@example.com",
          "firstname": "User",
          "lastname": "3",
          "company": "Enterprise Inc",
          "lifecyclestage": "subscriber"
        },
        {
          "id": "contact_7",
          "email": "user7@example.com",
          "firstname": "User",
          "lastname": "7",
          "company": "TechCo",
          "lifecyclestage": "subscriber"
        }
      ],
      "lead": [
        {
          "id": "contact_4",
          "email": "user4@example.com",
          "firstname": "User",
          "lastname": "4",
          "company": "Acme Corp",
          "lifecyclestage": "lead"
        },
        {
          "id": "contact_12",
          "email": "user12@example.com",
          "firstname": "User",
          "lastname": "12",
          "company": "StartupX",
          "lifecyclestage": "lead"
        },
        {
          "id": "contact_13",
          "email": "user13@example.com",
          "firstname": "User",
          "lastname": "13",
          "company": "TechCo",
          "lifecyclestage": "lead"
        }
      ],
      "mql": [
        {
          "id": "contact_6",
          "email": "user6@example.com",
          "firstname": "User",
          "lastname": "6",
          "company": "Acme Corp",
          "lifecyclestage": "mql"
        },
        {
          "id": "contact_8",
          "email": "user8@example.com",
          "firstname": "User",
          "lastname": "8",
          "company": "Enterprise Inc",
          "lifecyclestage": "mql"
        },
        {
          "id": "contact_9",
          "email": "user9@example.com",
          "firstname": "User",
          "lastname": "9",
          "company": "StartupX",
          "lifecyclestage": "mql"
        },
        {
          "id": "contact_14",
          "email": "user14@example.com",
          "firstname": "User",
          "lastname": "14",
          "company": "Enterprise Inc",
          "lifecyclestage": "mql"
        }
      ],
      "opportunity": [
        {
          "id": "contact_10",
          "email": "user10@example.com",
          "firstname": "User",
          "lastname": "10",
          "company": "Acme Corp",
          "lifecyclestage": "opportunity"
        }
      ]
    },
    "analysis": {
      "stage_counts": {
        "subscriber": 4,
        "lead": 3,
        "mql": 4,
        "sql": 3,
        "opportunity": 1,
        "customer": 0,
        "evangelist": 0
      },
      "conversions": [
        {
          "from_stage": "subscriber",
          "to_stage": "lead",
          "from_count": 4,
          "to_count": 3,
          "rate": 0.75,
          "benchmark": 0.4
        },
        {
          "from_stage": "lead",
          "to_stage": "mql",
          "from_count": 3,
          "to_count": 4,
          "rate": 1.333,
          "benchmark": 0.3
        },
        {
          "from_stage": "mql",
          "to_stage": "sql",
          "from_count": 4,
          "to_count": 3,
          "rate": 0.75,
          "benchmark": 0.25
        },
        {
          "from_stage": "sql",
          "to_stage": "opportunity",
          "from_count": 3,
          "to_count": 1,
          "rate": 0.333,
          "benchmark": 0.35
        },
        {
          "from_stage": "opportunity",
          "to_stage": "customer",
          "from_count": 1,
          "to_count": 0,
          "rate": 0.0,
          "benchmark": 0.2
        }
      ],
      "bottlenecks": [
        {
          "from_stage": "opportunity",
          "to_stage": "customer",
          "from_count": 1,
          "to_count": 0,
          "rate": 0.0,
          "benchmark": 0.2,
          "gap": 0.2,
          "severity": "high"
        }
      ],
      "context_handling": {
        "strategy": "inline",
        "input_size_tokens": 532,
        "chunks_processed": 0,
        "sub_calls": []
      }
    },
    "scoring": {
      "at_risk": [],
      "upsell_candidates": []
    },
    "synthesis": {
      "recommendations": [
        {
          "priority": "high",
          "category": "conversion",
          "action": "Improve opportunity \u2192 customer conversion",
          "context": "Current: 0%, Benchmark: 20%",
          "impact": "Could recover 0 accounts",
          "suggested_tactics": [
            "Review nurture sequence for opportunitys",
            "A/B test call-to-action messaging",
            "Analyze drop-off points in conversion path"
          ]
        }
      ],
      "health_score": 0.5
    }
  },
  "tenant_id": "test_tenant"
}