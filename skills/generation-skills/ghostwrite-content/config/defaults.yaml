# Default Configuration for ghostwrite-content skill
# These values are used when not overridden by skill call
# Migrated from defaults.json to YAML format

# =============================================================================
# Client Configuration
# =============================================================================
client:
  note: "Read from clients/{clientId}/ in Firebase or active_client.md"

founder:
  name: "default"
  note: "Founder ID resolved dynamically from Firebase founders subcollection"

# =============================================================================
# Processing Parameters
# =============================================================================
parameters:
  platform:
    default: "linkedin"
    options:
      - "linkedin"
      - "twitter"
    description: "Target social platform"

  post_count:
    default: 20
    min: 1
    max: 50
    description: "Number of posts to generate"

  min_relevance:
    default: 5
    min: 1
    max: 10
    description: "Minimum relevance score filter for source posts"

  max_source_posts:
    default: 25
    min: 5
    max: 100
    description: "Maximum source posts to include (sorted by relevance)"

  source:
    default: "all"
    options:
      - "all"
      - "social-listening"
      - "case-studies"
    description: "Content source filter"

# =============================================================================
# Validation Settings
# =============================================================================
validation:
  min_founder_posts: 10
  min_source_posts: 5
  founder_posts_to_load: 50
  founder_posts_to_pass: 50

# =============================================================================
# Voice Matching Settings
# =============================================================================
voice_matching:
  enabled: true
  include_post_variety_analysis: true
  min_short_takes_per_batch: 1
  prioritize_voice_over_template: true
  description: "Pass all founder posts to ghostwriter for voice pattern matching"

  # Voice contract schema reference
  voice_contract_schema: "templates/voice-contracts/schema.json"

  # Confidence thresholds
  min_voice_confidence: 0.7
  target_voice_confidence: 0.85

  # Pattern matching settings
  analyze_opening_patterns: true
  analyze_paragraph_structure: true
  analyze_vocabulary_choices: true
  analyze_post_length_variety: true
  analyze_ending_patterns: true

# =============================================================================
# Thought Leader Settings
# =============================================================================
thought_leaders:
  min_relevance: 7.0
  limit_leaders: 10
  limit_per_leader: 5
  limit_total_posts: 50

# =============================================================================
# Parallel Events Settings
# =============================================================================
parallel_events:
  days: 14
  limit: 20

# =============================================================================
# Batching Configuration
# =============================================================================
batching:
  batch_size: 5
  max_parallel_batches: 4
  max_qa_regeneration_attempts: 2

# =============================================================================
# Platform-Specific Configuration
# =============================================================================
platforms:
  linkedin:
    status: "full_support"
    agents:
      topic_curator: "linkedin-topic-curator"
      template_selector: "linkedin-template-selector"
      ghostwriter: "linkedin-ghostwriter"
      qa_reviewer: "linkedin-qa-reviewer"
    funnel_stages:
      - "TOFU"
      - "MOFU"
      - "BOFU"
    posting_schedule: "Mon/Wed/Fri at 9:00 AM ET"

  twitter:
    status: "coming_soon"
    agents:
      ghostwriter: "twitter-ghostwriter"
    note: "Twitter ghostwriting is planned but not yet implemented"

# =============================================================================
# Fallback Templates
# =============================================================================
fallback_templates:
  TOFU: 8
  MOFU: 15
  BOFU: 22
  description: "Fallback template IDs if template selection fails"

# =============================================================================
# Model Routing
# =============================================================================
model_routing:
  default_model: claude-sonnet-4
  extraction_model: claude-haiku
  synthesis_model: claude-sonnet-4

  # Stage-specific routing
  stages:
    context_loading: claude-haiku
    topic_curation: claude-sonnet-4
    template_selection: claude-sonnet-4
    ghostwriting: claude-sonnet-4
    qa_review: claude-haiku

# =============================================================================
# Context Limits (tokens)
# =============================================================================
context_limits:
  max_inline_context: 8000
  chunk_size: 1000
  max_tokens_per_stage:
    topic_curator: 25000
    template_selector: 8000
    ghostwriter: 15000

# =============================================================================
# Cost Estimates
# =============================================================================
cost_estimates:
  per_post_tokens_input: 5000
  per_post_tokens_output: 1500
  sonnet_input_per_1k: 0.003
  sonnet_output_per_1k: 0.015
  haiku_input_per_1k: 0.00025
  haiku_output_per_1k: 0.00125

  # Estimated cost formula
  # cost = (post_count * per_post_tokens_input / 1000 * sonnet_input_per_1k) +
  #        (post_count * per_post_tokens_output / 1000 * sonnet_output_per_1k)

# =============================================================================
# Quality Thresholds
# =============================================================================
quality:
  min_confidence: 0.7
  min_relevance_score: 0.5
  max_items_for_review: 100

  # QA zero-tolerance patterns
  zero_tolerance_patterns:
    - "em_dash"
    - "rhetorical_questions"
    - "structures_of_3"
    - "it_not_x_its_y"
    - "fabricated_anecdotes"

# =============================================================================
# Output Settings
# =============================================================================
output:
  output_format: json
  include_report: true
  include_metadata: true

  # Schema references
  output_schema: "templates/output-schema.json"
  post_schema: "templates/post-schema.json"
  calendar_schema: "templates/calendar-schema.json"

# =============================================================================
# Retry Settings
# =============================================================================
retry:
  max_retries: 2
  retry_delay_seconds: 5
  backoff_multiplier: 2

# =============================================================================
# Caching
# =============================================================================
caching:
  cache_enabled: true
  cache_ttl_hours: 24

# =============================================================================
# Timeout Settings
# =============================================================================
timeout:
  timeout_seconds: 1800  # 30 minutes total
  stage_timeouts:
    context_loading: 120  # 2 minutes
    topic_curation: 180   # 3 minutes
    template_selection: 240  # 4 minutes
    ghostwriting: 900     # 15 minutes
    qa_review: 300        # 5 minutes
    calendar_compilation: 180  # 3 minutes
